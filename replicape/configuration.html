<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->  
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->  
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->  
<head>
    <title>Replicape Docs | replicape/configuration</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">    

    <link rel="apple-touch-icon" sizes="180x180" href="../_static/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../_static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../_static/favicon-16x16.png">
    <link rel="mask-icon" href="../_static/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../_static/favicon.ico">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- Global CSS -->
    <link rel="stylesheet" href="../_static/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->    
    <link rel="stylesheet" href="../_static/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="../_static/plugins/prism/prism.css">
    <link rel="stylesheet" href="../_static/plugins/elegant_font/css/style.css">
    <link rel="stylesheet" href="../_static/plugins/popup/magnific-popup.css">
    
    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="../_static/css/styles.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
</head> 

<body class="body-blue">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <div class="logo">
                        <a href="../index.html">
                            <img class="icon noborder" src="../_static/images/thingprinter_logo.svg" />
                            <span class="text-highlight">Replicape</span><span class="text-bold">Docs</span>
                        </a>
                    </div>
                    <div class="version-select">
                        <div class="dropdown">
  <button class="btn btn-version dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">version 0.0.0&nbsp;<span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><a href="#">development mode</a></li></ul>
</div>
                    </div><div class="version-msg">( development )</div></div><!--//branding-->
                <ol class="breadcrumb">
                    <li class="nav-item nav-item-0"><a href="../index.html">Docs</a></li>
                      <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Replicape</a></li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div class="doc-body">
                    <div class="doc-content">
                        <div class="content-inner">
                            <div class="github-edit">
                                <div>
                                    <a href="https://github.com/intelligent-agent/redeem/edit/develop/docs/replicape/configuration.rst">
                                        <span class="text">edit on github</span>
                                        <i class="fa fa-github"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="section" id="configuration-settings">
<h1>Configuration Settings<a class="headerlink" href="#configuration-settings" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>All units are in SI-units internally in Redeem, but g-codes often expose mm etc.</li>
<li><code class="docutils literal"><span class="pre">default.cfg</span></code> is the bible, all configs must be defined in there.</li>
<li>All configurations in default.cfg can be overridden</li>
<li>default.cfg and printer.cfg can be changed with updates. <code class="docutils literal"><span class="pre">local.cfg</span></code> can not.</li>
<li>Here is the config hierarchy: <code class="docutils literal"><span class="pre">local.cfg</span></code> &gt; <code class="docutils literal"><span class="pre">printer.cfg</span></code> &gt; <code class="docutils literal"><span class="pre">deafult.cfg</span></code></li>
</ul>
<p>For Redeem, the preferred way to handle configuration is through the web
interface. The web interface is available through
<a class="reference external" href="http://kamikaze.local">kamikaze.local</a> assuming you have your BeagleBone on the
local network and you are using Umikaze 2.1.1.</p>
<p>The config files for redeem are present in the folder <code class="docutils literal"><span class="pre">/etc/redeem/</span></code>.
There are three files for setting the configuration. <code class="docutils literal"><span class="pre">default.cfg</span></code> is the
catch-all at the bottom. It will contain all the possible options and
<strong>should not be touched</strong>. Second is <code class="docutils literal"><span class="pre">printer.cfg</span></code> which is a symlink and
specific to a printer. Look in the folder to find one that matches your
printer. If you cannot find one, make it! <em>Otherwise leave the existing
one as is.</em> Finally is local.cfg which contains quirks or other
individual settings. The <code class="docutils literal"><span class="pre">local.cfg</span></code> will not be overwritten by new
software updates and can contain stuff like microstepping, stepper
current, offsets as well as any bed compensation matrices etc.</p>
<p>Now normally all settings can come from your specific <code class="docutils literal"><span class="pre">printer.cfg</span></code> config
file, but if no one has made that file, you need to set this stuff up
yourself. Most of the stuff in the config files is in SI units. This is
perhaps different than what other firmwares do, where the focus is on
optimization rather than ease of use. Note that it is important to keep
the section headers in the same case as the examples or <code class="docutils literal"><span class="pre">default.cfg</span></code> as
they are case sensitive.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If you edit a config file incorrectly, redeem will fail to load and
you will be unable to connect in octoprint. You must use headers, as
shown in the examples, and consistent spacing/formatting. Also the first
time you load octoprint you will not have any config files listed in
settings/redeem, you are supposed to load a blank local.cfg file. You
shouldn’t need to do this again unless you reflash the image. However,
if you find that your config files suddenly when missing, simply close
your browser tab and reopen octoprint and they should return.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If&nbsp;you&nbsp;are&nbsp;not&nbsp;writing&nbsp;your&nbsp;own&nbsp;new&nbsp;<code class="docutils literal"><span class="pre">printer.cfg</span></code>,&nbsp;keep&nbsp;all&nbsp;your&nbsp;printer
settings&nbsp;in&nbsp;<code class="docutils literal"><span class="pre">local.cfg</span></code>&nbsp;to&nbsp;avoid&nbsp;getting&nbsp;any&nbsp;setting&nbsp;over-written&nbsp;by&nbsp;a&nbsp;redeem&nbsp;update.</p>
</div>
<div class="section" id="system">
<span id="configsystem"></span><h2>System<a class="headerlink" href="#system" title="Permalink to this headline">¶</a></h2>
<p>The system section has only Replicape board revision and log level. For
debugging purposes, set the log level to 10, but keep it at 20 for
normal operations, since logging is very CPU intensive and can cause
delays during prints at high speed. On later versions of Redeem, the
board revision is read from the EEPROM on the Replicape.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">System</span><span class="p">]</span>

<span class="c1"># CRITICAL=50, # ERROR=40, # WARNING=30,  INFO=20,  DEBUG=10, NOTSET=0</span>
<span class="n">loglevel</span> <span class="o">=</span>  <span class="mi">20</span>

<span class="c1"># If set to True, also log to file.</span>
<span class="n">log_to_file</span> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Default file to log to, this can be viewed from octoprint</span>
<span class="n">logfile</span> <span class="o">=</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">octo</span><span class="o">/.</span><span class="n">octoprint</span><span class="o">/</span><span class="n">logs</span><span class="o">/</span><span class="n">plugin_redeem</span><span class="o">.</span><span class="n">log</span>

<span class="c1"># Plugin to load for redeem, comma separated (i.e. HPX2Max,plugin2,plugin3)</span>
<span class="n">plugins</span> <span class="o">=</span>

<span class="c1"># Machine type is used by M115</span>
<span class="c1"># to identify the machine connected.</span>
<span class="n">machine_type</span> <span class="o">=</span> <span class="n">Unknown</span>
</pre></div>
</div>
</div>
<div class="section" id="plugins">
<span id="configplugins"></span><h2>Plugins<a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hpx2max">
<h3>HPX2Max<a class="headerlink" href="#hpx2max" title="Permalink to this headline">¶</a></h3>
<p>Dual extrusion with the HPX2Max extruder.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">HPX2MaxPlugin</span><span class="p">]</span>
<span class="c1"># The channel on which the servo is connected. The numbering correspond to the Fan number</span>
<span class="n">servo_channel</span> <span class="o">=</span> <span class="n">P9_14</span>

<span class="c1"># Extruder 0 angle to set the servo when extruder 0 is selected, in degree</span>
<span class="n">extruder_0_angle</span> <span class="o">=</span> <span class="mi">20</span>

<span class="c1"># Extruder 1 angle to set the servo when extruder 1 is selected, in degree</span>
<span class="n">extruder_1_angle</span> <span class="o">=</span> <span class="mi">175</span>
</pre></div>
</div>
</div>
<div class="section" id="dualservo">
<h3>DualServo<a class="headerlink" href="#dualservo" title="Permalink to this headline">¶</a></h3>
<p>A more general dual extrusion using a servo for switching between hot ends.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DualServoPlugin</span><span class="p">]</span>
<span class="c1"># The pin name of where the servo is located</span>
<span class="n">servo_channel</span> <span class="o">=</span> <span class="n">P9_14</span>
<span class="c1"># minimum pulse length</span>
<span class="n">pulse_min</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">pulse_max</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="n">angle_min</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">angle_max</span> <span class="o">=</span> <span class="mi">180</span>
<span class="n">extruder_0_angle</span> <span class="o">=</span> <span class="mf">87.5</span>
<span class="n">extruder_1_angle</span> <span class="o">=</span> <span class="mf">92.5</span>
</pre></div>
</div>
</div>
<div class="section" id="startbutton">
<h3>StartButton<a class="headerlink" href="#startbutton" title="Permalink to this headline">¶</a></h3>
<p><span class="todo">TODO</span></p>
</div>
<div class="section" id="vcnl4000">
<h3>VCNL4000<a class="headerlink" href="#vcnl4000" title="Permalink to this headline">¶</a></h3>
<p><span class="todo">TODO</span></p>
</div>
</div>
<div class="section" id="geometry">
<span id="configgeometry"></span><h2>Geometry<a class="headerlink" href="#geometry" title="Permalink to this headline">¶</a></h2>
<p>The geometry section contains stuff about the physical layout of your
printer. What the print volume is, what the offset from the end stops
is, whether it’s a Normal XY style printer, a Delta printer, an H-belt
type printer or a CoreXY type printer.</p>
<p>It also contains the bed compensation matrix. The bed compensation
matrix is used for compensating any rotation the bed has in relation
to the nozzle. This is typically not something you write yourself, but
instead it is found by probing the bed at different locations by use
of the G-code G29. The G29 command is a macro command, so it only runs
other G-codes and you can override it yourself in the local.cfg file
or in the printer.cfg file if you are a printer manufacturer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Homing works differently on cartesian and delta printers. Please refer to <a class="reference internal" href="../support/howto/homing.html"><span class="doc">Homing</span></a>.</p>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Geometry</span><span class="p">]</span>
<span class="c1"># 0 - Cartesian</span>
<span class="c1"># 1 - H-belt</span>
<span class="c1"># 2 - Core XY</span>
<span class="c1"># 3 - Delta</span>
<span class="n">axis_config</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># The total length each axis can travel</span>
<span class="c1">#   This affects the homing endstop searching length.</span>
<span class="c1">#   travel_* can be left undefined.</span>
<span class="c1">#   It will be determined by soft_end_stop_min/max_*</span>
<span class="c1"># travel_x = 0.2</span>
<span class="c1"># ...</span>

<span class="c1"># Define the origin in relation to the endstops</span>
<span class="c1">#   offset_* can be left undefined.</span>
<span class="c1">#   It will be determined by home_speed and soft_end_stop_min/max_*</span>
<span class="c1"># offset_x = 0.0</span>
<span class="c1"># ...</span>

<span class="c1"># The identity matrix is the default</span>
<span class="n">bed_compensation_matrix</span> <span class="o">=</span>
        <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span>
</pre></div>
</div>
</div>
<div class="section" id="delta">
<span id="configdelta"></span><h2>Delta<a class="headerlink" href="#delta" title="Permalink to this headline">¶</a></h2>
<p>Several variables are needed for defining the geometry of the delta setup.</p>
<p>Terminology:</p>
<ul class="simple">
<li>Effector is the thing that is in the centre and moves (the one with the hot end)</li>
<li>The distance from the centre of the effector to where the rods are mounted is the effector offset.</li>
<li>Carriage is those that move up and down along the columns.</li>
</ul>
<p><span class="todo">TODO</span></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">I’ve not figured out what the carriage offset does. You should think
this was the offset from the carriages to the rods, but I’ve not
gotten that top work. Seems broken. Instead, add the carriage offset
to the effector offset.</p>
</div>
<p>For more information on correcting delta calibration, see the <a class="reference internal" href="../support/printers/delta.html"><span class="doc">Delta Printers</span></a>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Delta</span><span class="p">]</span>

<span class="c1"># DEPRECATED IN 2.1.1</span>
<span class="c1"># Distance head extends below the effector.</span>
<span class="n">Hez</span> <span class="o">=</span> <span class="mf">0.0</span>

<span class="c1"># Length of the rod</span>
<span class="n">L</span>   <span class="o">=</span> <span class="mf">0.135</span>

<span class="c1"># Radius of the columns (distance from column to the center of the build plate)</span>
<span class="n">r</span>   <span class="o">=</span> <span class="mf">0.144</span>

<span class="c1"># Effector offset (distance between the joints to the rods to the center of the effector)</span>
<span class="n">Ae</span>  <span class="o">=</span> <span class="mf">0.026</span>
<span class="n">Be</span>  <span class="o">=</span> <span class="mf">0.026</span>
<span class="n">Ce</span>  <span class="o">=</span> <span class="mf">0.026</span>

<span class="c1"># Carriage offset (the distance from the column to the carriage&#39;s center of the rods&#39; joints)</span>
<span class="n">A_radial</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">B_radial</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">C_radial</span> <span class="o">=</span> <span class="mf">0.0</span>

<span class="c1"># DEPRECATED IN 2.1.1</span>
<span class="c1"># Compensation for positional error of the columns</span>
<span class="c1"># (For details, read: https://github.com/hercek/Marlin/blob/Marlin_v1/calibration.wxm)</span>
<span class="c1"># Positive values move the tower to the right, in the +X direction, tangent to it&#39;s radius</span>
<span class="n">A_tangential</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">B_tangential</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">C_tangential</span> <span class="o">=</span> <span class="mf">0.0</span>

<span class="c1"># NEW IN 2.1.1</span>
<span class="n">A_angular</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">B_angular</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">C_angular</span> <span class="o">=</span> <span class="mf">0.0</span>
</pre></div>
</div>
<p>Here is a visual depiction of what the length and radius looks like:</p>
<img alt="../_images/delta_length_and_radius.png" src="../_images/delta_length_and_radius.png" />
<p>Here is what the Hez looks like:</p>
<img alt="../_images/delta_hez.png" src="../_images/delta_hez.png" />
</div>
<div class="section" id="steppers">
<span id="configsteppers"></span><h2>Steppers<a class="headerlink" href="#steppers" title="Permalink to this headline">¶</a></h2>
<p>This section has the stuff you need for the the steppers:</p>
<ul class="simple">
<li>the number of steps pr mm for each axis</li>
<li>the stepper max current</li>
<li>the microstepping</li>
<li>acceleration</li>
<li>max speed</li>
<li>the option to invert a stepper (so you don’t have to rotate the stepper connector),</li>
<li>the decay mode of the current chopping on the motor drives (see the <a class="reference internal" href="#configstepperdecay"><span class="std std-ref">Decay</span></a> for more information.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Stepper e is ext 1, h is ext 2</span>
<span class="p">[</span><span class="n">Steppers</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="microstepping">
<span id="configsteppermicrostepping"></span><h3>Microstepping<a class="headerlink" href="#microstepping" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">microstepping_x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">microstepping_y</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">microstepping_z</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">microstepping_e</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">microstepping_h</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">microstepping_a</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">microstepping_b</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">microstepping_c</span> <span class="o">=</span> <span class="mi">3</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">0 - Full step</div>
<div class="line">1 - Half step</div>
<div class="line">2 - Half step, interpolated to 256</div>
<div class="line">3 - Quarter step</div>
<div class="line">4 - 16th step</div>
<div class="line">5 - Quarter step, interpolated to 256 microsteps</div>
<div class="line">6 - 16th step, interpolated to 256 microsteps</div>
<div class="line">7 - Quarter step, StealthChop, interpolated to 256 microsteps</div>
<div class="line">8 - 16th step, StealthChop, interpolated to 256 microsteps</div>
</div>
</div>
<div class="section" id="current">
<span id="configsteppercurrent"></span><h3>Current<a class="headerlink" href="#current" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">current_x</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">current_y</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">current_z</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">current_e</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">current_h</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">current_a</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">current_b</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">current_c</span> <span class="o">=</span> <span class="mf">0.5</span>
</pre></div>
</div>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p class="last">Never run the Replicape with the steppers running above 0.5A without cooling.
Never exceed 1.2A of regular use either - the TMC2100 drivers aren’t
rated higher. If you need more current to drive two motors off the
same stepper, use slave mode with a second driver (usually H). While it
means splitting off your wiring of the stepper motors you had going to
a single driver, but it also means you avoid overheating your drivers.</p>
</div>
</div>
<div class="section" id="ratios">
<span id="configstepperratios"></span><h3>Ratios<a class="headerlink" href="#ratios" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># steps per mm:</span>
<span class="c1">#   Defined how many stepper full steps needed to move 1mm.</span>
<span class="c1">#   Do not factor in microstepping settings.</span>
<span class="c1">#   For example: If the axis will travel 10mm in one revolution and</span>
<span class="c1">#                angle per step in 1.8deg (200step/rev), steps_pr_mm is 20.</span>
<span class="n">steps_pr_mm_x</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="n">steps_pr_mm_y</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="n">steps_pr_mm_z</span> <span class="o">=</span> <span class="mf">50.0</span>
<span class="n">steps_pr_mm_e</span> <span class="o">=</span> <span class="mf">6.0</span>
<span class="n">steps_pr_mm_h</span> <span class="o">=</span> <span class="mf">6.0</span>
<span class="n">steps_pr_mm_a</span> <span class="o">=</span> <span class="mf">6.0</span>
<span class="n">steps_pr_mm_b</span> <span class="o">=</span> <span class="mf">6.0</span>
<span class="n">steps_pr_mm_c</span> <span class="o">=</span> <span class="mf">6.0</span>

<span class="n">backlash_x</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">backlash_y</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">backlash_z</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">backlash_e</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">backlash_h</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">backlash_a</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">backlash_b</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">backlash_c</span> <span class="o">=</span> <span class="mf">0.0</span>
</pre></div>
</div>
</div>
<div class="section" id="enable-disable">
<span id="configstepperenable"></span><h3>Enable / Disable<a class="headerlink" href="#enable-disable" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Which steppers are enabled</span>
<span class="n">in_use_x</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">in_use_y</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">in_use_z</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">in_use_e</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">in_use_h</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">in_use_a</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">in_use_b</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">in_use_c</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
<div class="section" id="direction">
<span id="configstepperdirection"></span><h3>Direction<a class="headerlink" href="#direction" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Set to -1 if axis is inverted</span>
<span class="n">direction_x</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="n">direction_y</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="n">direction_z</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="n">direction_e</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="n">direction_h</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="n">direction_a</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="n">direction_b</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="n">direction_c</span> <span class="o">=</span>  <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="decay">
<span id="configstepperdecay"></span><h3>Decay<a class="headerlink" href="#decay" title="Permalink to this headline">¶</a></h3>
<p>The decay mode affects the way the stepper motor controllers
decays the current. Basically slow decay will give more of a hissing
sound while standing still and fast decay will cause the steppers to
be silent when stationary, but loud when stepping. The <a class="reference internal" href="#microstepping">microstepping</a>
settings is <span class="math">\(2^x\)</span>, so <code class="docutils literal"><span class="pre">microstepping_x</span> <span class="pre">=</span> <span class="pre">2</span></code> means <span class="math">\(2^2 = 4\)</span>.
<code class="docutils literal"><span class="pre">3</span></code> then is <span class="math">\(2^3 = 8\)</span> or one-eighth.</p>
<p>On Replicape Rev B, there are 8 levels of decay. Please consult the <a class="reference external" href="http://www.trinamic.com/_scripts/download.php?file=_articles%2Fproducts%2Fintegrated-circuits%2Ftmc2100%2F_datasheet%2FTMC2100_datasheet.pdf">data sheet for TMC2100</a> on the different options.</p>
<p>There are three settings that are controlled on the TMC2100 by the decay mode or rather “chopper configuration”: CFG0,
CFG4 and CFG5 in the TMC2100 data sheet.</p>
<p><strong>CFG0:</strong> Sets chopper off time (Duration of slow decay phase)</p>
<div class="line-block">
<div class="line">DIS - 140 Tclk (recommended, most universal choice)</div>
<div class="line">EN - 236 Tclk (medium)</div>
</div>
<p><strong>CFG4:</strong> Sets chopper hysteresis (Tuning of zero crossing precision)</p>
<div class="line-block">
<div class="line">DIS: (recommended most universal choice): low hysteresis with ≈4% offull scale current.</div>
<div class="line">EN: high setting with ≈6% of full scale current at sense resistor.</div>
</div>
<p><strong>CFG5:</strong> Sets chopper blank time ( Duration of blanking of switching spike )</p>
<div class="line-block">
<div class="line">Blank time (in number of clock cycles)</div>
<div class="line">DIS - 16 (best performance for StealthChop)</div>
<div class="line">EN - 24 (recommended, most universal choice)</div>
<div class="line"><br /></div>
<div class="line">0 - DIS_CFG0 | DIS_CFG4 | DIS_CFG5</div>
<div class="line">1 - DIS_CFG0 | DIS_CFG4 | EN_CFG5</div>
<div class="line">2 - DIS_CFG0 | EN_CFG4 | DIS_CFG5</div>
<div class="line">3 - DIS_CFG0 | EN_CFG4 | EN_CFG5</div>
<div class="line">4 - EN_CFG0 | DIS_CFG4 | DIS_CFG5</div>
<div class="line">5 - EN_CFG0 | DIS_CFG4 | EN_CFG5</div>
<div class="line">6 - EN_CFG0 | EN_CFG4 | DIS_CFG5</div>
<div class="line">7 - EN_CFG0 | EN_CFG4 | EN_CFG5</div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Set to True if slow decay mode is needed</span>
<span class="n">slow_decay_x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">slow_decay_y</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">slow_decay_z</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">slow_decay_e</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">slow_decay_h</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">slow_decay_a</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">slow_decay_b</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">slow_decay_c</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="slave">
<span id="configstepperslave"></span><h3>Slave<a class="headerlink" href="#slave" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># A stepper controller can operate in slave mode,</span>
<span class="c1"># meaning that it will mirror the position of the</span>
<span class="c1"># specified stepper. Typically, H will mirror Y or Z,</span>
<span class="c1"># in the case of the former, write this: slave_y = H.</span>
<span class="n">slave_x</span> <span class="o">=</span>
<span class="n">slave_y</span> <span class="o">=</span>
<span class="n">slave_z</span> <span class="o">=</span>
<span class="n">slave_e</span> <span class="o">=</span>
<span class="n">slave_h</span> <span class="o">=</span>
<span class="n">slave_a</span> <span class="o">=</span>
<span class="n">slave_b</span> <span class="o">=</span>
<span class="n">slave_c</span> <span class="o">=</span>

<span class="c1"># Stepper timout</span>
<span class="n">use_timeout</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">timeout_seconds</span> <span class="o">=</span> <span class="mi">500</span>
</pre></div>
</div>
<p>If you want to enable slave mode for a stepper driver, meaning it will
mirror the movements of another stepper motor exactly, you need to use
“slave_y = H” if you want the H-stepper motor to mirror the moves
produced by the Y-stepper motor. Remember to also set the steps_pr_mm
to the same value on the the motors mirroring each other, and also the
direction. Most likely you will want the current to be the same as well.</p>
<ol class="arabic simple">
<li>Enable the slave stepper driver (in_use_h = True)</li>
<li>The syntax for selecting which axis is the master and which the slave
is:
I want to slave H to Z (H follows everything Z does) then you use
“slave_z = H”.</li>
<li>If you have any endstops acting on the master axis, then you should
do the same thing for the slave axis, otherwise it will just keep on
turning. For example, on a delta with Z1 connected to a bed probe and
Z2 connected to the tower limit switch: “end_stop_Z1_stops =
x_neg, y_neg, z_neg, h_neg” and “end_stop_Z2_stops = z_pos,
h_pos”.</li>
</ol>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Stepper e is ext 1, h is ext 2</span>
<span class="p">[</span><span class="n">Steppers</span><span class="p">]</span>
<span class="n">microstepping_x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="o">...</span>

<span class="n">current_x</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="o">...</span>

<span class="c1"># steps per mm:</span>
<span class="c1">#   Defined how many stepper full steps needed to move 1mm.</span>
<span class="c1">#   Do not factor in microstepping settings.</span>
<span class="c1">#   For example: If the axis will travel 10mm in one revolution and</span>
<span class="c1">#                angle per step in 1.8deg (200step/rev), steps_pr_mm is 20.</span>
<span class="n">steps_pr_mm_x</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="o">...</span>

<span class="n">backlash_x</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="o">...</span>

<span class="c1"># Which steppers are enabled</span>
<span class="n">in_use_x</span> <span class="o">=</span> <span class="kc">True</span>
<span class="o">...</span>

<span class="c1"># Set to -1 if axis is inverted</span>
<span class="n">direction_x</span> <span class="o">=</span>  <span class="mi">1</span>
<span class="o">...</span>

<span class="c1"># Set to True if slow decay mode is needed</span>
<span class="n">slow_decay_x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="o">...</span>

<span class="c1"># A stepper controller can operate in slave mode,</span>
<span class="c1"># meaning that it will mirror the position of the</span>
<span class="c1"># specified stepper. Typically, H will mirror Y or Z,</span>
<span class="c1"># in the case of the former, write this: slave_h = Y.</span>
<span class="n">slave_x</span> <span class="o">=</span>
<span class="o">...</span>

<span class="c1"># Stepper timout</span>
<span class="n">use_timeout</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">timeout_seconds</span> <span class="o">=</span> <span class="mi">60</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="planner">
<span id="configplanner"></span><h2>Planner<a class="headerlink" href="#planner" title="Permalink to this headline">¶</a></h2>
<p>The acceleration profiles are trapezoidal, i.e. constant acceleration.
One will probably see and hear a difference between Replicape/Redeem and
the simpler 8 bit boards since all path segments are cut down to 0.1 mm
on delta printers regardless of speed and there is also a better
granularity on the stepper ticks, so you will never have quantized steps
either. Further more, all calculations are done with floating point
numbers, giving a better precision on calculations compared to 8 bit
microcontrollers.</p>
<p>This section is concerned with how the path planner caches and paces the
path segments before pushing them to the PRU for processing.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Planner</span><span class="p">]</span>

<span class="c1"># size of the path planning cache</span>
<span class="n">move_cache_size</span> <span class="o">=</span> <span class="mi">1024</span>

<span class="c1"># time to wait for buffer to fill, (ms)</span>
<span class="n">print_move_buffer_wait</span> <span class="o">=</span> <span class="mi">250</span>

<span class="c1"># if total buffered time gets below (min_buffered_move_time) then wait for (print_move_buffer_wait) before moving again, (ms)</span>
<span class="n">min_buffered_move_time</span> <span class="o">=</span> <span class="mi">100</span>

<span class="c1"># total buffered move time should not exceed this much (ms)</span>
<span class="n">max_buffered_move_time</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="c1"># DEPRECATED IN 2.1.1</span>
<span class="c1"># max segment length</span>
<span class="n">max_length</span> <span class="o">=</span> <span class="mf">0.001</span>

<span class="n">acceleration_x</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="o">...</span>

<span class="n">max_jerk_x</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="o">...</span>

<span class="c1"># Max speed for the steppers in m/s</span>
<span class="n">max_speed_x</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="o">...</span>

<span class="c1"># NEW IN 2.1.1</span>
<span class="c1"># if total buffered time gets below (min_buffered_move_time) then wait for (print_move_buffer_wait) before moving again, (ms)</span>
<span class="n">min_buffered_move_time</span> <span class="o">=</span> <span class="mi">100</span>

<span class="c1"># DEPRECATED IN 2.1.1</span>
<span class="c1"># Max speed for the steppers in m/s</span>
<span class="n">min_speed_x</span> <span class="o">=</span> <span class="mf">0.005</span>
<span class="n">min_speed_y</span> <span class="o">=</span> <span class="mf">0.005</span>
<span class="n">min_speed_z</span> <span class="o">=</span> <span class="mf">0.005</span>
<span class="n">min_speed_e</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">min_speed_h</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">min_speed_a</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">min_speed_b</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">min_speed_c</span> <span class="o">=</span> <span class="mf">0.01</span>

<span class="c1"># When true, movements on the E axis (eg, G1, G92) will apply</span>
<span class="c1"># to the active tool (similar to other firmwares).  When false,</span>
<span class="c1"># such movements will only apply to the E axis.</span>
<span class="n">e_axis_active</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="section" id="cold-ends">
<span id="configcoldends"></span><h2>Cold ends<a class="headerlink" href="#cold-ends" title="Permalink to this headline">¶</a></h2>
<p>Replicape has three thermistor inputs and a Dallas one-wire input.
Typically, the thermistor inputs are for high temperatures such as hot
ends and heated beds, and the Dallas one-wire input is used for
monitoring the cold end of a hot end, if you know what I mean… This
section is used to connect a fan to one of the temperature probes, so
for instance the fan on your extruder will start as soon as the
temperature goes above 60 degrees. If you have a Dallas one-wire
temperature probe connected on the board, it will show up as a file-like
device in Linux under /sys/bus/w1/devices/. Find out the full path and
place that in your local.cfg. All Dallas one-wire devices have a unique
code, so yours will be different than what you see here.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Cold</span><span class="o">-</span><span class="n">ends</span><span class="p">]</span>
<span class="c1"># To use the DS18B20 temp sensors, connect them like this.</span>
<span class="c1"># Enable by setting to True</span>
<span class="n">connect</span><span class="o">-</span><span class="n">ds18b20</span><span class="o">-</span><span class="mi">0</span><span class="o">-</span><span class="n">fan</span><span class="o">-</span><span class="mi">0</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">connect</span><span class="o">-</span><span class="n">ds18b20</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">fan</span><span class="o">-</span><span class="mi">0</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">connect</span><span class="o">-</span><span class="n">ds18b20</span><span class="o">-</span><span class="mi">0</span><span class="o">-</span><span class="n">fan</span><span class="o">-</span><span class="mi">1</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># This list is for connecting thermistors to fans,</span>
<span class="c1"># so they are controlled automatically when reaching 60 degrees.</span>
<span class="n">connect</span><span class="o">-</span><span class="n">therm</span><span class="o">-</span><span class="n">E</span><span class="o">-</span><span class="n">fan</span><span class="o">-</span><span class="mi">0</span> <span class="o">=</span> <span class="kc">False</span>
<span class="o">...</span>
<span class="n">connect</span><span class="o">-</span><span class="n">therm</span><span class="o">-</span><span class="n">H</span><span class="o">-</span><span class="n">fan</span><span class="o">-</span><span class="mi">1</span> <span class="o">=</span> <span class="kc">False</span>
<span class="o">...</span>
<span class="c1"># For your part cooling fan, you&#39;ll want to set this to True for the correct Fan-input so your slicer can control it.</span>
<span class="c1"># If your part-cooling fan is connected to the Fan0 input, use this:</span>
<span class="n">add</span><span class="o">-</span><span class="n">fan</span><span class="o">-</span><span class="mi">0</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">M106</span> <span class="o">=</span> <span class="kc">True</span>
<span class="o">...</span>

<span class="c1"># If you want coolers to</span>
<span class="c1"># have a different &#39;keep&#39; temp, list it here.</span>
<span class="n">cooler_0_target_temp</span> <span class="o">=</span> <span class="mi">60</span>

<span class="c1"># If you want the fan-thermistor connections to have a</span>
<span class="c1"># different temperature:</span>
<span class="c1"># therm-e-fan-0-target_temp = 70</span>

<span class="c1"># if you have a Titan Aero (or any other all-metal) hotend, you&#39;ll want the fan on the hotend to turn on</span>
<span class="c1"># automatically above 50C. To make the fan connected to the Fan1 input turn on when the hotend reaches 60C</span>
<span class="c1"># (provided that the hotend is connected to &quot;thermistor extruder 1&quot;, also referred to as E).</span>
<span class="n">connect</span><span class="o">-</span><span class="n">therm</span><span class="o">-</span><span class="n">E</span><span class="o">-</span><span class="n">fan</span><span class="o">-</span><span class="mi">1</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">therm</span><span class="o">-</span><span class="n">e</span><span class="o">-</span><span class="n">fan</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">target_temp</span> <span class="o">=</span> <span class="mi">50</span>
</pre></div>
</div>
</div>
<div class="section" id="heaters">
<span id="configheaters"></span><h2>Heaters<a class="headerlink" href="#heaters" title="Permalink to this headline">¶</a></h2>
<p>The heater section controls the PID settings and which temperature
lookup chart to use for the thermistor. If you do not find your
thermistor in the chart, you can find the Steinhart-Hart coefficients
from the <a class="reference external" href="http://www.thinksrs.com/downloads/programs/Therm%20Calc/NTCCalibrator/NTCcalculator.htm">NTC Calculator</a> online tool.</p>
<p>Some of the most common thermistor coefficients have already been
implemented though, so you might find it here:</p>
</div>
<div class="section" id="thermistors">
<span id="configthermistors"></span><h2>Thermistors<a class="headerlink" href="#thermistors" title="Permalink to this headline">¶</a></h2>
<p>An example configuration for <cite>E</cite>. The most
important thing to change should be the sensor name matching the
thermistor. The Kp, Ti and Td values will be set by the M303 auto-tune
and the rest of the values are for advanced tuning or special cases.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Heaters</span><span class="p">]</span>
<span class="n">sensor_E</span> <span class="o">=</span> <span class="n">B57560G104F</span>
<span class="n">pid_Kp_E</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">pid_Ti_E</span> <span class="o">=</span> <span class="mf">100.0</span>
<span class="n">pid_Td_E</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">ok_range_E</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="n">max_rise_temp_E</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">max_fall_temp_E</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">min_temp_E</span> <span class="o">=</span> <span class="mf">20.0</span>
<span class="n">max_temp_E</span> <span class="o">=</span> <span class="mf">250.0</span>
<span class="n">path_adc_E</span> <span class="o">=</span> <span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">bus</span><span class="o">/</span><span class="n">iio</span><span class="o">/</span><span class="n">devices</span><span class="o">/</span><span class="n">iio</span><span class="p">:</span><span class="n">device0</span><span class="o">/</span><span class="n">in_voltage4_raw</span>
<span class="n">mosfet_E</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">onoff_E</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">prefix_E</span> <span class="o">=</span> <span class="n">T0</span>
<span class="n">max_power_E</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="o">...</span>
</pre></div>
</div>
<div class="section" id="steinhart-heart">
<h3>Steinhart-Heart<a class="headerlink" href="#steinhart-heart" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>B57540G0104F000</td>
<td>EPCOS100K with b= 4066K</td>
</tr>
<tr class="row-odd"><td>B57560G1104F</td>
<td>EPCOS100K with b = 4092K</td>
</tr>
<tr class="row-even"><td>B57560G104F</td>
<td>EPCOS100K with b = 4092K (Hexagon)</td>
</tr>
<tr class="row-odd"><td>B57561G0103F000</td>
<td>EPCOS10K</td>
</tr>
<tr class="row-even"><td>NTCS0603E3104FXT</td>
<td>Vishay100K</td>
</tr>
<tr class="row-odd"><td>135-104LAG-J01</td>
<td>Honeywell100K</td>
</tr>
<tr class="row-even"><td>SEMITEC-104GT-2</td>
<td>Semitec (E3D V6)</td>
</tr>
<tr class="row-odd"><td>DYZE</td>
<td>DYZE hightemp thermistor</td>
</tr>
<tr class="row-even"><td>HT100K3950</td>
<td>RobotDigg.com’s 3950-100K thermistor (part number HT100K3950-1)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pt100-type-thermistors">
<h3>PT100 type thermistors<a class="headerlink" href="#pt100-type-thermistors" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="47%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>E3D-PT100-AMPLIFIER</td>
<td>E3D PT100</td>
</tr>
<tr class="row-odd"><td>PT100-GENERIC-PLATINUM</td>
<td>Ultimaker heated bed etc.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="linear-v-deg-scale-thermocouple-boards">
<h3>Linear v/deg Scale Thermocouple Boards<a class="headerlink" href="#linear-v-deg-scale-thermocouple-boards" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Tboard</td>
<td>0.005 Volts pr degree</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="pid-autotune">
<span id="configpid"></span><h2>PID autotune<a class="headerlink" href="#pid-autotune" title="Permalink to this headline">¶</a></h2>
<p>With version 1.2.6 and beyond, the PID autotune algorithm is fairly
stable. To run an auto-tune, use the M-code M303. You should see the
hot-end or heated bed temperature oscillate for a few cycles before
completing. To set temperature, number of oscillations, which hot end to
calibrate etc, try running “M303?” or see the description of the <a class="reference internal" href="mcodes.html#m303"><span class="std std-ref">M303</span></a>.</p>
</div>
<div class="section" id="endstops">
<span id="configendstops"></span><h2>Endstops<a class="headerlink" href="#endstops" title="Permalink to this headline">¶</a></h2>
<p>Use this section to specify whether or not you have end stops on the
different axes and how the end stop inputs on the board interacts with
the steppers. The lookup mask is useful for the latter. In the default
setup, the connector marked X1 is connected to the stepper on the
X-axis. For CoreXY and H-bot this is different in that two steppers are
denied movement in one direction, but allowed movement in the other
direction given that one of the end stops has been hit.</p>
<p>Also of interest is the use of two different inputs for a single axis
and direction. Imagine using one input to control the lower end of the
Z-axis and a different input to probe the bed with G20/G30.</p>
<p>If you are not seeing any movement even though no end stop has been hit,
try inverting the end stop.</p>
<p>See also this <a class="reference external" href="http://www.thing-printer.com/end-stop-configuration-for-redeem/">blog post and video</a> for a more thorough explanation.</p>
<p>Soft end stops can be used to prevent the print head from moving beyond
a specified point. For delta printers this is useful since they cannot
have end stops preventing movement outside the build area.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Endstops</span><span class="p">]</span>
<span class="c1"># Which axis should be homed.</span>
<span class="n">has_x</span> <span class="o">=</span> <span class="kc">True</span>
<span class="o">...</span>
<span class="c1"># Number of cycles to wait between checking</span>
<span class="c1"># end stops. CPU frequency is 200 MHz</span>
<span class="n">end_stop_delay_cycles</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="c1"># Invert =</span>
<span class="c1">#   True means endstop is connected as Normally Open (NO) or not connected</span>
<span class="c1">#   False means endstop is connected as Normally Closed (NC)</span>
<span class="n">invert_X1</span> <span class="o">=</span> <span class="kc">False</span>
<span class="o">...</span>
<span class="c1"># If one endstop is hit, which steppers and directions are masked.</span>
<span class="c1">#   The list is comma separated and has format</span>
<span class="c1">#     x_cw = stepper x clockwise (independent of direction_x)</span>
<span class="c1">#     x_ccw = stepper x counter clockwise (independent of direction_x)</span>
<span class="c1">#     x_neg = stepper x negative direction (affected by direction_x)</span>
<span class="c1">#     x_pos = stepper x positive direction (affected by direction_x)</span>
<span class="c1">#   Steppers e and h (and a, b, c for reach) can also be masked.</span>
<span class="c1">#</span>
<span class="c1">#   For a list of steppers to stop, use this format: x_cw, y_ccw</span>
<span class="c1">#   For Simple XYZ bot, the usual practice would be</span>
<span class="c1">#     end_stop_X1_stops = x_neg, end_stop_X2_stops = x_pos, ...</span>
<span class="c1">#   For CoreXY and similar, two steppers should be stopped if an end stop is hit.</span>
<span class="c1">#     similarly for a delta probe should stop x, y and z.</span>
<span class="n">end_stop_X1_stops</span> <span class="o">=</span>
<span class="o">...</span>
<span class="n">soft_end_stop_min_x</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span>
<span class="o">...</span>
<span class="n">soft_end_stop_max_x</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="multi-extrusion">
<h2>Multi-extrusion<a class="headerlink" href="#multi-extrusion" title="Permalink to this headline">¶</a></h2>
<p>Currently Redeem does not yet support tool offsets for dual or
multi-extrusion. These offsets must be configured in the slicer, instead
of in the firmware, for now.</p>
</div>
<div class="section" id="servos">
<span id="configservos"></span><h2>Servos<a class="headerlink" href="#servos" title="Permalink to this headline">¶</a></h2>
<p>Servos are controlled by two on-chip PWMs and share connector with
Endstop X2 and Y2.</p>
<ul class="simple">
<li>Servo 0 is on pin P9_14</li>
<li>Servo 1 is on pin P9_16</li>
</ul>
<p>Use <a class="reference internal" href="mcodes.html#m280"><span class="std std-ref">M280</span></a> to set
the servo position. Note that multiple servos can be present, the init
script will continue to initialize servos as long as there are higher
indexes, so keep the indexes increasing for multiple servos.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Servos</span><span class="p">]</span>
<span class="c1"># For Rev B, servo is either P9_14 or P9_16.</span>
<span class="c1"># Not enabled for now, just kept here for reference.</span>
<span class="c1"># Angle init is the angle the servo is set to when redeem starts.</span>
<span class="c1"># pulse min and max is the pulse with for min and max position, as always in SI unit Seconds.</span>
<span class="c1"># So 0.001 is 1 ms.</span>
<span class="c1"># Angle min and max is what angles those pulses correspond to.</span>
<span class="n">servo_0_enable</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">servo_0_channel</span> <span class="o">=</span> <span class="n">P9_14</span>
<span class="n">servo_0_angle_init</span> <span class="o">=</span> <span class="mi">90</span>
<span class="n">servo_0_angle_min</span> <span class="o">=</span> <span class="o">-</span><span class="mi">90</span>
<span class="n">servo_0_angle_max</span> <span class="o">=</span> <span class="mi">90</span>
<span class="n">servo_0_pulse_min</span> <span class="o">=</span> <span class="mf">0.001</span>
<span class="n">servo_0_pulse_max</span> <span class="o">=</span> <span class="mf">0.002</span>
</pre></div>
</div>
</div>
<div class="section" id="z-probe">
<span id="configzprobe"></span><h2>Z-Probe<a class="headerlink" href="#z-probe" title="Permalink to this headline">¶</a></h2>
<p>Before attempting the configuration of a Z probe make sure your printer
is moving in the right direction and that your hard endstops and your
soft endstops are configured correctly please refer to the endstop
section.</p>
<div class="line-block">
<div class="line">The standard configs for Z-probe should work for most. The real
difficulty lies in making the macro for the whole probing procedure.
The offsets are the distance from the probe point to the nozzle. Here
are the standard values:</div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Probe</span><span class="p">]</span>
<span class="n">length</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mf">0.05</span>
<span class="n">accel</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">offset_x</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="n">offset_y</span> <span class="o">=</span> <span class="mf">0.0</span>
</pre></div>
</div>
<p>For more information, check out the <a class="reference internal" href="../support/howto/zprobes.html"><span class="doc">Z Probes</span></a> page.</p>
</div>
<div class="section" id="rotary-encoders">
<span id="configrotaryencoders"></span><h2>Rotary Encoders<a class="headerlink" href="#rotary-encoders" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">work in progress.</p>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Rotary</span><span class="o">-</span><span class="n">encoders</span><span class="p">]</span>
<span class="n">enable</span><span class="o">-</span><span class="n">e</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">event</span><span class="o">-</span><span class="n">e</span> <span class="o">=</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="nb">input</span><span class="o">/</span><span class="n">event1</span>
<span class="n">cpr</span><span class="o">-</span><span class="n">e</span> <span class="o">=</span> <span class="o">-</span><span class="mi">360</span>
<span class="n">diameter</span><span class="o">-</span><span class="n">e</span> <span class="o">=</span> <span class="mf">0.003</span>
</pre></div>
</div>
</div>
<div class="section" id="filament-sensors">
<span id="configfilamentsensors"></span><h2>Filament Sensors<a class="headerlink" href="#filament-sensors" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">work in progress. See the blog post <a class="reference external" href="http://www.thing-printer.com/filament-sensor-3d-printer-replicape/">Filament Sensor</a>.</p>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Filament</span><span class="o">-</span><span class="n">sensors</span><span class="p">]</span>
<span class="c1"># If the error is &gt; 1 cm, sound the alarm</span>
<span class="n">alarm</span><span class="o">-</span><span class="n">level</span><span class="o">-</span><span class="n">e</span> <span class="o">=</span> <span class="mf">0.01</span>
</pre></div>
</div>
</div>
<div class="section" id="watchdog">
<span id="configwatchdog"></span><h2>Watchdog<a class="headerlink" href="#watchdog" title="Permalink to this headline">¶</a></h2>
<p>The watchdog is a time-out alarm that will kick in if the
/dev/watchdog file is not written at least once pr. minute. This is a
safety issue that will cause the BeagleBone to issue a hard reset if
the Redeem daemon were to enter a faulty state and not be able to
regulate the heater elements. For the watchdog to start, it requires
the watchdog to be resettable, with the proper kernel command line <code class="docutils literal"><span class="pre">omap\_wdt.nowayout=0</span></code>.</p>
<p>This should be left on at all time as a safety precauchion, but can be
disabled for development purposes. This is not the same as the stepper
watchdog which only disables the steppers.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Watchdog</span><span class="p">]</span>
<span class="n">enable_watchdog</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="section" id="macros">
<span id="configmacros"></span><h2>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h2>
<p>The macro-section contains macros. Duh. Right now, only G29, G31 and G32
has macro definitions and it’s basically a set of other G-codes. To make
a new macro, you need to also define the actual g-code file for it. That
is beyond this wiki, but look at <a class="reference external" href="https://github.com/intelligent-agent/redeem/src/73c21486b1e294570a125e9fac6c9cef9b4f273b/redeem/gcodes/G29.py?at=develop">G29</a> in the repository.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Each line in macros section needs to be spaced the same or you may
not be able to connect in octoprint. Most Inductive sensors don’t need
probe type defined to work. To simply turn an inductive sensor on and
off change the example macro with the g31/g32 macro’s i have listed
here. The g32 may need adjusting to match your z1 endstop settings.
Undock turns probe on, Dock turns it off. Check your Macro and setup
carefully, in the g29 example, at the end of each probe point it docks
your probe then homes z before the start of the next point, which in
some printers can crash your probe into the bed possibly causing damage.</p>
</div>
<p>If you find that your probe routine is probing the air, your z
axis is most likely moving in the wrong direction for the probing
to work. It seems redeem only probes in one direction and this
can’t be changed in the probing settings. So, You will need to
swap your z direction, in the [steppers] section using
direction_z = -1 or direction_z = +1, then confirm your z
stops/homing, ect work make corrections as required. You will also
most likely need to change under [Geometry] travel_z direction.
This should trick the probe into moving in the correct direction.</p>
<p><strong>G31</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">M574</span> <span class="n">Z2</span>  <span class="p">;</span> <span class="n">Probe</span> <span class="n">up</span> <span class="p">(</span><span class="n">Dock</span> <span class="n">sled</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>G32</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">M574</span> <span class="n">Z2</span> <span class="n">z_ccw</span><span class="p">,</span> <span class="n">h_ccw</span>  <span class="p">;</span> <span class="n">Probe</span> <span class="n">down</span> <span class="p">(</span><span class="n">Undock</span> <span class="n">sled</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Macros</span><span class="p">]</span>
<span class="n">G29</span> <span class="o">=</span>
    <span class="n">M561</span>                <span class="p">;</span> <span class="n">Reset</span> <span class="n">the</span> <span class="n">bed</span> <span class="n">level</span> <span class="n">matrix</span>
    <span class="n">M558</span> <span class="n">P0</span>             <span class="p">;</span> <span class="n">Set</span> <span class="n">probe</span> <span class="nb">type</span> <span class="n">to</span> <span class="n">Servo</span> <span class="k">with</span> <span class="n">switch</span>
    <span class="n">M557</span> <span class="n">P0</span> <span class="n">X10</span> <span class="n">Y20</span>     <span class="p">;</span> <span class="n">Set</span> <span class="n">probe</span> <span class="n">point</span> <span class="mi">0</span>
    <span class="n">M557</span> <span class="n">P1</span> <span class="n">X10</span> <span class="n">Y180</span>    <span class="p">;</span> <span class="n">Set</span> <span class="n">probe</span> <span class="n">point</span> <span class="mi">1</span>
    <span class="n">M557</span> <span class="n">P2</span> <span class="n">X180</span> <span class="n">Y100</span>   <span class="p">;</span> <span class="n">Set</span> <span class="n">probe</span> <span class="n">point</span> <span class="mi">2</span>
    <span class="n">G28</span> <span class="n">X0</span> <span class="n">Y0</span>           <span class="p">;</span> <span class="n">Home</span> <span class="n">X</span> <span class="n">Y</span>

    <span class="n">G28</span> <span class="n">Z0</span>              <span class="p">;</span> <span class="n">Home</span> <span class="n">Z</span>
    <span class="n">G0</span> <span class="n">Z12</span>              <span class="p">;</span> <span class="n">Move</span> <span class="n">Z</span> <span class="n">up</span> <span class="n">to</span> <span class="n">allow</span> <span class="n">space</span> <span class="k">for</span> <span class="n">probe</span>
    <span class="n">G32</span>                 <span class="p">;</span> <span class="n">Undock</span> <span class="n">probe</span>
    <span class="n">G92</span> <span class="n">Z0</span>              <span class="p">;</span> <span class="n">Reset</span> <span class="n">Z</span> <span class="n">height</span> <span class="n">to</span> <span class="mi">0</span>
    <span class="n">G30</span> <span class="n">P0</span> <span class="n">S</span>            <span class="p">;</span> <span class="n">Probe</span> <span class="n">point</span> <span class="mi">0</span>
    <span class="n">G0</span> <span class="n">Z0</span>               <span class="p">;</span> <span class="n">Move</span> <span class="n">the</span> <span class="n">Z</span> <span class="n">up</span>
    <span class="n">G31</span>                 <span class="p">;</span> <span class="n">Dock</span> <span class="n">probe</span>

    <span class="n">G28</span> <span class="n">Z0</span>              <span class="p">;</span> <span class="n">Home</span> <span class="n">Z</span>
    <span class="n">G0</span> <span class="n">Z12</span>              <span class="p">;</span> <span class="n">Move</span> <span class="n">Z</span> <span class="n">up</span> <span class="n">to</span> <span class="n">allow</span> <span class="n">space</span> <span class="k">for</span> <span class="n">probe</span>
    <span class="n">G32</span>                 <span class="p">;</span> <span class="n">Undock</span> <span class="n">probe</span>
    <span class="n">G92</span> <span class="n">Z0</span>              <span class="p">;</span> <span class="n">Reset</span> <span class="n">Z</span> <span class="n">height</span> <span class="n">to</span> <span class="mi">0</span>
    <span class="n">G30</span> <span class="n">P1</span> <span class="n">S</span>            <span class="p">;</span> <span class="n">Probe</span> <span class="n">point</span> <span class="mi">1</span>
    <span class="n">G0</span> <span class="n">Z0</span>               <span class="p">;</span> <span class="n">Move</span> <span class="n">the</span> <span class="n">Z</span> <span class="n">up</span>
    <span class="n">G31</span>                 <span class="p">;</span> <span class="n">Dock</span> <span class="n">probe</span>

    <span class="n">G28</span> <span class="n">Z0</span>              <span class="p">;</span> <span class="n">Home</span> <span class="n">Z</span>
    <span class="n">G0</span> <span class="n">Z12</span>              <span class="p">;</span> <span class="n">Move</span> <span class="n">Z</span> <span class="n">up</span> <span class="n">to</span> <span class="n">allow</span> <span class="n">space</span> <span class="k">for</span> <span class="n">probe</span>
    <span class="n">G32</span>                 <span class="p">;</span> <span class="n">Undock</span> <span class="n">probe</span>
    <span class="n">G92</span> <span class="n">Z0</span>              <span class="p">;</span> <span class="n">Reset</span> <span class="n">Z</span> <span class="n">height</span> <span class="n">to</span> <span class="mi">0</span>
    <span class="n">G30</span> <span class="n">P2</span> <span class="n">S</span>            <span class="p">;</span> <span class="n">Probe</span> <span class="n">point</span> <span class="mi">2</span>
    <span class="n">G0</span> <span class="n">Z0</span>               <span class="p">;</span> <span class="n">Move</span> <span class="n">the</span> <span class="n">Z</span> <span class="n">up</span>
    <span class="n">G31</span>                 <span class="p">;</span> <span class="n">Dock</span> <span class="n">probe</span>

    <span class="n">G28</span> <span class="n">X0</span> <span class="n">Y0</span>           <span class="p">;</span> <span class="n">Home</span> <span class="n">X</span> <span class="n">Y</span>

    <span class="n">M561</span> <span class="n">U</span><span class="p">;</span> <span class="p">(</span><span class="n">RFS</span><span class="p">)</span> <span class="n">Update</span> <span class="n">the</span> <span class="n">matrix</span> <span class="n">based</span> <span class="n">on</span> <span class="n">probe</span> <span class="n">data</span>
    <span class="n">M561</span> <span class="n">S</span><span class="p">;</span> <span class="n">Show</span> <span class="n">the</span> <span class="n">current</span> <span class="n">matrix</span>
    <span class="n">M500</span><span class="p">;</span> <span class="p">(</span><span class="n">RFS</span><span class="p">)</span> <span class="n">Save</span> <span class="n">data</span>


<span class="n">G31</span> <span class="o">=</span>
    <span class="n">M280</span> <span class="n">P0</span> <span class="n">S320</span> <span class="n">F3000</span>  <span class="p">;</span> <span class="n">Probe</span> <span class="n">up</span> <span class="p">(</span><span class="n">Dock</span> <span class="n">sled</span><span class="p">)</span>

<span class="n">G32</span> <span class="o">=</span>
    <span class="n">M280</span> <span class="n">P0</span> <span class="n">S</span><span class="o">-</span><span class="mi">60</span> <span class="n">F3000</span>  <span class="p">;</span> <span class="n">Probe</span> <span class="n">down</span> <span class="p">(</span><span class="n">Undock</span> <span class="n">sled</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">There is a configuration page where you can choose what <code class="docutils literal"><span class="pre">printer.cfg</span></code> links to and edit <code class="docutils literal"><span class="pre">local.cfg</span></code>.</p>
</div>
</div>
</div>

                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar hidden-xs">
                        <nav id="doc-nav">
                            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Replicape</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="techspecs.html">Tech Specs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#system">System</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plugins">Plugins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hpx2max">HPX2Max</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dualservo">DualServo</a></li>
<li class="toctree-l4"><a class="reference internal" href="#startbutton">StartButton</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vcnl4000">VCNL4000</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#geometry">Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delta">Delta</a></li>
<li class="toctree-l3"><a class="reference internal" href="#steppers">Steppers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#microstepping">Microstepping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#current">Current</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ratios">Ratios</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enable-disable">Enable / Disable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#direction">Direction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#decay">Decay</a></li>
<li class="toctree-l4"><a class="reference internal" href="#slave">Slave</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#planner">Planner</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cold-ends">Cold ends</a></li>
<li class="toctree-l3"><a class="reference internal" href="#heaters">Heaters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thermistors">Thermistors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#steinhart-heart">Steinhart-Heart</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pt100-type-thermistors">PT100 type thermistors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#linear-v-deg-scale-thermocouple-boards">Linear v/deg Scale Thermocouple Boards</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pid-autotune">PID autotune</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endstops">Endstops</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multi-extrusion">Multi-extrusion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#servos">Servos</a></li>
<li class="toctree-l3"><a class="reference internal" href="#z-probe">Z-Probe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rotary-encoders">Rotary Encoders</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filament-sensors">Filament Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="#watchdog">Watchdog</a></li>
<li class="toctree-l3"><a class="reference internal" href="#macros">Macros</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gcodes.html">G-code Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="mcodes.html">M-code Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="tcodes.html">T-code reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="redeem.html">Redeem</a></li>
<li class="toctree-l2"><a class="reference internal" href="errata.html">Errata</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/index.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../attribution.html">Attributions</a></li>
</ul>

                        </nav>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->              
            </div><!--//container-->
        </div><!--//doc-wrapper-->
    </div><!--//page-wrapper-->
    
    <footer id="footer" class="footer text-center">
        <div class="container">
            <small class="copyright">&copy 2017, Replicape, ThingPrinter</small></small>
            <small class="copyright">Sphinx theme based on the <a href="https://themes.3rdwavemedia.com/demo/prettydocs/">Pretty Docs</a> design.</small>
        </div><!--//container-->
    </footer><!--//footer-->

    <!-- Main Javascript -->          
    <script type="text/javascript" src="../_static/plugins/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="../_static/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/plugins/prism/prism.js"></script>
    <script type="text/javascript" src="../_static/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="../_static/plugins/jquery-match-height/jquery.matchHeight-min.js"></script>
    <script type="text/javascript" src="../_static/plugins/popup/jquery.magnific-popup.js"></script>


    <script type="text/javascript">
        window.MathJax = {
            asciimath2jax: {
                ignoreClass: 'problematic'
            }
        };
    </script>

    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/javascript" src="../_static/js/main.js"></script>
    
</body>
</html> 
